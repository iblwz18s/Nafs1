[
  {
    "path": "tsconfig.node.json",
    "content": "{\n  \"compilerOptions\": {\n    \"target\": \"ES2022\",\n    \"lib\": [\"ES2023\"],\n    \"module\": \"ESNext\",\n    \"skipLibCheck\": true,\n\n    /* Bundler mode */\n    \"moduleResolution\": \"bundler\",\n    \"allowImportingTsExtensions\": true,\n    \"isolatedModules\": true,\n    \"moduleDetection\": \"force\",\n    \"noEmit\": true,\n\n    /* Linting */\n    \"strict\": true,\n    \"noUnusedLocals\": false,\n    \"noUnusedParameters\": false,\n    \"noFallthroughCasesInSwitch\": true\n  },\n  \"include\": [\"vite.config.ts\"]\n}\n"
  },
  {
    "path": "vite.config.ts",
    "content": "import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react-swc\";\nimport path from \"path\";\nimport { componentTagger } from \"lovable-tagger\";\n\nexport default defineConfig(({ mode }) => ({\n  server: {\n    host: \"::\",\n    port: 8080,\n  },\n  plugins: [\n    react(),\n    mode === 'development' && componentTagger(),\n  ].filter(Boolean),\n  resolve: {\n    alias: {\n      \"@\": path.resolve(__dirname, \"./src\"),\n    },\n  },\n}));\n"
  },
  {
    "path": "public/placeholder.svg",
    "content": "<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1200\" height=\"1200\" fill=\"none\"><rect width=\"1200\" height=\"1200\" fill=\"#EAEAEA\" rx=\"3\"/><g opacity=\".5\"><g opacity=\".5\"><path fill=\"#FAFAFA\" d=\"M600.709 736.5c-75.454 0-136.621-61.167-136.621-136.62 0-75.454 61.167-136.621 136.621-136.621 75.453 0 136.62 61.167 136.62 136.621 0 75.453-61.167 136.62-136.62 136.62Z\"/><path stroke=\"#C9C9C9\" stroke-width=\"2.418\" d=\"M600.709 736.5c-75.454 0-136.621-61.167-136.621-136.62 0-75.454 61.167-136.621 136.621-136.621 75.453 0 136.62 61.167 136.62 136.621 0 75.453-61.167 136.62-136.62 136.62Z\"/></g><path stroke=\"url(#a)\" stroke-width=\"2.418\" d=\"M0-1.209h553.581\" transform=\"scale(1 -1) rotate(45 1163.11 91.165)\"/><path stroke=\"url(#b)\" stroke-width=\"2.418\" d=\"M404.846 598.671h391.726\"/><path stroke=\"url(#c)\" stroke-width=\"2.418\" d=\"M599.5 795.742V404.017\"/><path stroke=\"url(#d)\" stroke-width=\"2.418\" d=\"m795.717 796.597-391.441-391.44\"/><path fill=\"#fff\" d=\"M600.709 656.704c-31.384 0-56.825-25.441-56.825-56.824 0-31.384 25.441-56.825 56.825-56.825 31.383 0 56.824 25.441 56.824 56.825 0 31.383-25.441 56.824-56.824 56.824Z\"/><g clip-path=\"url(#e)\"><path fill=\"#666\" fill-rule=\"evenodd\" d=\"M616.426 586.58h-31.434v16.176l3.553-3.554.531-.531h9.068l.074-.074 8.463-8.463h2.565l7.18 7.181V586.58Zm-15.715 14.654 3.698 3.699 1.283 1.282-2.565 2.565-1.282-1.283-5.2-5.199h-6.066l-5.514 5.514-.073.073v2.876a2.418 2.418 0 0 0 2.418 2.418h26.598a2.418 2.418 0 0 0 2.418-2.418v-8.317l-8.463-8.463-7.181 7.181-.071.072Zm-19.347 5.442v4.085a6.045 6.045 0 0 0 6.046 6.045h26.598a6.044 6.044 0 0 0 6.045-6.045v-7.108l1.356-1.355-1.282-1.283-.074-.073v-17.989h-38.689v23.43l-.146.146.146.147Z\" clip-rule=\"evenodd\"/></g><path stroke=\"#C9C9C9\" stroke-width=\"2.418\" d=\"M600.709 656.704c-31.384 0-56.825-25.441-56.825-56.824 0-31.384 25.441-56.825 56.825-56.825 31.383 0 56.824 25.441 56.824 56.825 0 31.383-25.441 56.824-56.824 56.824Z\"/></g><defs><linearGradient id=\"a\" x1=\"554.061\" x2=\"-.48\" y1=\".083\" y2=\".087\" gradientUnits=\"userSpaceOnUse\"><stop stop-color=\"#C9C9C9\" stop-opacity=\"0\"/><stop offset=\".208\" stop-color=\"#C9C9C9\"/><stop offset=\".792\" stop-color=\"#C9C9C9\"/><stop offset=\"1\" stop-color=\"#C9C9C9\" stop-opacity=\"0\"/></linearGradient><linearGradient id=\"b\" x1=\"796.912\" x2=\"404.507\" y1=\"599.963\" y2=\"599.965\" gradientUnits=\"userSpaceOnUse\"><stop stop-color=\"#C9C9C9\" stop-opacity=\"0\"/><stop offset=\".208\" stop-color=\"#C9C9C9\"/><stop offset=\".792\" stop-color=\"#C9C9C9\"/><stop offset=\"1\" stop-color=\"#C9C9C9\" stop-opacity=\"0\"/></linearGradient><linearGradient id=\"c\" x1=\"600.792\" x2=\"600.794\" y1=\"403.677\" y2=\"796.082\" gradientUnits=\"userSpaceOnUse\"><stop stop-color=\"#C9C9C9\" stop-opacity=\"0\"/><stop offset=\".208\" stop-color=\"#C9C9C9\"/><stop offset=\".792\" stop-color=\"#C9C9C9\"/><stop offset=\"1\" stop-color=\"#C9C9C9\" stop-opacity=\"0\"/></linearGradient><linearGradient id=\"d\" x1=\"404.85\" x2=\"796.972\" y1=\"403.903\" y2=\"796.02\" gradientUnits=\"userSpaceOnUse\"><stop stop-color=\"#C9C9C9\" stop-opacity=\"0\"/><stop offset=\".208\" stop-color=\"#C9C9C9\"/><stop offset=\".792\" stop-color=\"#C9C9C9\"/><stop offset=\"1\" stop-color=\"#C9C9C9\" stop-opacity=\"0\"/></linearGradient><clipPath id=\"e\"><path fill=\"#fff\" d=\"M581.364 580.535h38.689v38.689h-38.689z\"/></clipPath></defs></svg>"
  },
  {
    "path": "public/robots.txt",
    "content": "User-agent: Googlebot\nAllow: /\n\nUser-agent: Bingbot\nAllow: /\n\nUser-agent: Twitterbot\nAllow: /\n\nUser-agent: facebookexternalhit\nAllow: /\n\nUser-agent: *\nAllow: /\n"
  },
  {
    "path": "src/App.css",
    "content": "#root {\n  max-width: 1280px;\n  margin: 0 auto;\n  padding: 2rem;\n  text-align: center;\n}\n\n.logo {\n  height: 6em;\n  padding: 1.5em;\n  will-change: filter;\n  transition: filter 300ms;\n}\n.logo:hover {\n  filter: drop-shadow(0 0 2em #646cffaa);\n}\n.logo.react:hover {\n  filter: drop-shadow(0 0 2em #61dafbaa);\n}\n\n@keyframes logo-spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n@media (prefers-reduced-motion: no-preference) {\n  a:nth-of-type(2) .logo {\n    animation: logo-spin infinite 20s linear;\n  }\n}\n\n.card {\n  padding: 2em;\n}\n\n.read-the-docs {\n  color: #888;\n}\n"
  },
  {
    "path": "src/App.tsx",
    "content": "import { Toaster } from \"@/components/ui/toaster\";\nimport { Toaster as Sonner } from \"@/components/ui/sonner\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport Index from \"./pages/Index\";\nimport Quiz from \"./pages/Quiz\";\nimport TrainingGalleryPage from \"./pages/TrainingGalleryPage\";\nimport NotFound from \"./pages/NotFound\";\n\nconst queryClient = new QueryClient();\n\nconst App = () => (\n  <QueryClientProvider client={queryClient}>\n    <TooltipProvider>\n      <Toaster />\n      <Sonner />\n      <BrowserRouter>\n        <Routes>\n          <Route path=\"/\" element={<Index />} />\n          <Route path=\"/quiz/:standardId\" element={<Quiz />} />\n          <Route path=\"/training-gallery\" element={<TrainingGalleryPage />} />\n          <Route path=\"*\" element={<NotFound />} />\n        </Routes>\n      </BrowserRouter>\n    </TooltipProvider>\n  </QueryClientProvider>\n);\n\nexport default App;\n"
  },
  {
    "path": "src/index.css",
    "content": "@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@300;400;500;600;700&display=swap');\n\n@font-face {\n  font-family: 'Helvetica Neue Arabic';\n  src: url('/fonts/Helvetica-Neue-Regular.ttf') format('truetype');\n  font-weight: 400;\n  font-style: normal;\n  font-display: swap;\n}\n\n@font-face {\n  font-family: 'Helvetica Neue Arabic';\n  src: url('/fonts/Helvetica-Neue-Bold.ttf') format('truetype');\n  font-weight: 700;\n  font-style: normal;\n  font-display: swap;\n}\n\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* وزارة التعليم السعودية - نظام التصميم البصري\n   الألوان الأساسية مستخرجة من دليل الهوية البصرية الرسمي\n*/\n\n@layer base {\n  :root {\n    /* الألوان الأساسية - وزارة التعليم */\n    --background: 0 0% 98%;\n    --foreground: 197 65% 22%;\n\n    --card: 0 0% 100%;\n    --card-foreground: 197 65% 22%;\n\n    --popover: 0 0% 100%;\n    --popover-foreground: 197 65% 22%;\n\n    /* الأخضر الرئيسي #07a869 */\n    --primary: 154 92% 34%;\n    --primary-foreground: 0 0% 100%;\n\n    /* الأزرق #3d7eb9 */\n    --secondary: 209 50% 48%;\n    --secondary-foreground: 0 0% 100%;\n\n    /* التركوازي #0da9a6 */\n    --accent: 179 86% 36%;\n    --accent-foreground: 0 0% 100%;\n\n    /* الرمادي الناعم */\n    --muted: 0 0% 95%;\n    --muted-foreground: 197 20% 45%;\n\n    /* الأحمر للأخطاء */\n    --destructive: 0 84% 60%;\n    --destructive-foreground: 0 0% 100%;\n\n    /* الأزرق الداكن #15445a */\n    --border: 197 65% 85%;\n    --input: 197 65% 90%;\n    --ring: 154 92% 34%;\n\n    --radius: 0.75rem;\n\n    /* ألوان إضافية للتدرجات */\n    --success: 154 92% 34%;\n    --warning: 40 90% 50%;\n    --info: 209 50% 48%;\n\n    /* تدرج الهوية */\n    --gradient-primary: linear-gradient(135deg, hsl(154 92% 34%), hsl(179 86% 36%));\n    --gradient-secondary: linear-gradient(135deg, hsl(209 50% 48%), hsl(179 86% 36%));\n    --gradient-hero: linear-gradient(180deg, hsl(197 65% 22%) 0%, hsl(209 50% 48%) 100%);\n\n    /* الظلال */\n    --shadow-soft: 0 4px 20px -4px hsl(197 65% 22% / 0.1);\n    --shadow-medium: 0 8px 30px -6px hsl(197 65% 22% / 0.15);\n    --shadow-glow: 0 0 30px hsl(154 92% 34% / 0.2);\n\n    --sidebar-background: 0 0% 98%;\n    --sidebar-foreground: 197 65% 22%;\n    --sidebar-primary: 154 92% 34%;\n    --sidebar-primary-foreground: 0 0% 100%;\n    --sidebar-accent: 179 86% 36%;\n    --sidebar-accent-foreground: 0 0% 100%;\n    --sidebar-border: 197 65% 90%;\n    --sidebar-ring: 154 92% 34%;\n  }\n\n  .dark {\n    --background: 197 65% 8%;\n    --foreground: 0 0% 95%;\n\n    --card: 197 65% 12%;\n    --card-foreground: 0 0% 95%;\n\n    --popover: 197 65% 12%;\n    --popover-foreground: 0 0% 95%;\n\n    --primary: 154 92% 40%;\n    --primary-foreground: 0 0% 100%;\n\n    --secondary: 209 50% 55%;\n    --secondary-foreground: 0 0% 100%;\n\n    --accent: 179 86% 42%;\n    --accent-foreground: 0 0% 100%;\n\n    --muted: 197 30% 18%;\n    --muted-foreground: 197 20% 65%;\n\n    --destructive: 0 70% 50%;\n    --destructive-foreground: 0 0% 100%;\n\n    --border: 197 30% 25%;\n    --input: 197 30% 25%;\n    --ring: 154 92% 40%;\n\n    --sidebar-background: 197 65% 10%;\n    --sidebar-foreground: 0 0% 95%;\n    --sidebar-primary: 154 92% 40%;\n    --sidebar-primary-foreground: 0 0% 100%;\n    --sidebar-accent: 179 86% 42%;\n    --sidebar-accent-foreground: 0 0% 100%;\n    --sidebar-border: 197 30% 25%;\n    --sidebar-ring: 154 92% 40%;\n  }\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  html {\n    font-family: 'IBM Plex Sans Arabic', sans-serif;\n    direction: rtl;\n    font-feature-settings: \"ss01\" on; /* Enable Arabic numerals */\n  }\n\n  body {\n    @apply bg-background text-foreground antialiased;\n    font-family: 'IBM Plex Sans Arabic', sans-serif;\n  }\n\n  /* العناوين - وزن أثقل */\n  h1, h2, h3, h4, h5, h6 {\n    font-weight: 700;\n    letter-spacing: -0.01em;\n  }\n\n  h1 {\n    @apply text-3xl md:text-4xl;\n  }\n\n  h2 {\n    @apply text-2xl md:text-3xl;\n  }\n\n  h3 {\n    @apply text-xl md:text-2xl;\n  }\n\n  /* النصوص العادية */\n  p, span, div {\n    font-weight: 400;\n  }\n\n  /* الأرقام العربية */\n  .arabic-nums {\n    font-feature-settings: \"ss01\" on;\n  }\n}\n\n@layer components {\n  .gradient-primary {\n    background: var(--gradient-primary);\n  }\n\n  .gradient-secondary {\n    background: var(--gradient-secondary);\n  }\n\n  .gradient-hero {\n    background: var(--gradient-hero);\n  }\n\n  .shadow-soft {\n    box-shadow: var(--shadow-soft);\n  }\n\n  .shadow-medium {\n    box-shadow: var(--shadow-medium);\n  }\n\n  .shadow-glow {\n    box-shadow: var(--shadow-glow);\n  }\n\n  .card-hover {\n    @apply transition-all duration-300 hover:scale-[1.02] hover:shadow-medium;\n  }\n\n  .btn-primary-gradient {\n    background: var(--gradient-primary);\n    @apply text-primary-foreground font-bold py-3 px-6 rounded-lg transition-all duration-300;\n  }\n\n  .btn-primary-gradient:hover {\n    @apply opacity-90 scale-[1.02];\n    box-shadow: var(--shadow-glow);\n  }\n}\n"
  },
  {
    "path": "src/main.tsx",
    "content": "import { createRoot } from \"react-dom/client\";\nimport App from \"./App.tsx\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n"
  },
  {
    "path": "src/vite-env.d.ts",
    "content": "/// <reference types=\"vite/client\" />\n"
  },
  {
    "path": "src/components/AdminLogin.tsx",
    "content": "import { useState } from \"react\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { toast } from \"sonner\";\nimport { Loader2, LogIn, UserPlus } from \"lucide-react\";\n\ninterface AdminLoginProps {\n  onLoginSuccess: () => void;\n}\n\nconst AdminLogin = ({ onLoginSuccess }: AdminLoginProps) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [isSignUp, setIsSignUp] = useState(false);\n\n  const handleLogin = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoading(true);\n\n    try {\n      const { data, error } = await supabase.auth.signInWithPassword({\n        email,\n        password,\n      });\n\n      if (error) {\n        toast.error(\"خطأ في تسجيل الدخول: \" + error.message);\n        return;\n      }\n\n      if (data.user) {\n        // Check if user has admin role\n        const { data: roleData, error: roleError } = await supabase\n          .from(\"user_roles\")\n          .select(\"role\")\n          .eq(\"user_id\", data.user.id)\n          .eq(\"role\", \"admin\")\n          .maybeSingle();\n\n        if (roleError || !roleData) {\n          toast.error(\"ليس لديك صلاحيات المسؤول\");\n          await supabase.auth.signOut();\n          return;\n        }\n\n        toast.success(\"تم تسجيل الدخول بنجاح\");\n        onLoginSuccess();\n      }\n    } catch (error) {\n      toast.error(\"حدث خطأ غير متوقع\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleSignUp = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoading(true);\n\n    try {\n      const { data, error } = await supabase.auth.signUp({\n        email,\n        password,\n        options: {\n          emailRedirectTo: `${window.location.origin}/training-gallery`,\n        },\n      });\n\n      if (error) {\n        toast.error(\"خطأ في إنشاء الحساب: \" + error.message);\n        return;\n      }\n\n      if (data.user) {\n        toast.success(\"تم إنشاء الحساب بنجاح! يرجى التواصل مع المطور لتفعيل صلاحيات المسؤول.\");\n        setIsSignUp(false);\n      }\n    } catch (error) {\n      toast.error(\"حدث خطأ غير متوقع\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Card className=\"w-full max-w-md mx-auto\">\n      <CardHeader>\n        <CardTitle className=\"text-center text-xl\">\n          {isSignUp ? \"إنشاء حساب مسؤول\" : \"دخول المسؤول\"}\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        <form onSubmit={isSignUp ? handleSignUp : handleLogin} className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"email\">البريد الإلكتروني</Label>\n            <Input\n              id=\"email\"\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              placeholder=\"admin@example.com\"\n              required\n              dir=\"ltr\"\n            />\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"password\">كلمة المرور</Label>\n            <Input\n              id=\"password\"\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              placeholder=\"••••••••\"\n              required\n              dir=\"ltr\"\n            />\n          </div>\n          <Button type=\"submit\" className=\"w-full\" disabled={isLoading}>\n            {isLoading ? (\n              <Loader2 className=\"w-4 h-4 animate-spin ml-2\" />\n            ) : isSignUp ? (\n              <UserPlus className=\"w-4 h-4 ml-2\" />\n            ) : (\n              <LogIn className=\"w-4 h-4 ml-2\" />\n            )}\n            {isSignUp ? \"إنشاء الحساب\" : \"تسجيل الدخول\"}\n          </Button>\n        </form>\n        <div className=\"mt-4 text-center\">\n          <Button\n            variant=\"link\"\n            onClick={() => setIsSignUp(!isSignUp)}\n            className=\"text-muted-foreground\"\n          >\n            {isSignUp ? \"لديك حساب؟ تسجيل الدخول\" : \"ليس لديك حساب؟ إنشاء حساب جديد\"}\n          </Button>\n        </div>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default AdminLogin;\n"
  }
]